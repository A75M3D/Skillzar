<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>إيجار بلس+Ejar plus - منصة عقارات للإيجار</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700;800&display=swap" rel="stylesheet">
    <style>
        * {
            font-family: 'Tajawal', sans-serif;
        }
        
        .property-card {
            transition: all 0.3s ease;
        }
        
        .property-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
        
        .glass-effect {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .btn-glow:hover {
            box-shadow: 0 0 10px rgba(14, 165, 233, 0.5);
        }
        
        .toast-slide-in {
            animation: toastSlideIn 0.3s ease-out;
        }
        
        .toast-slide-out {
            animation: toastSlideOut 0.3s ease-in;
        }
        
        @keyframes toastSlideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        @keyframes toastSlideOut {
            from { transform: translateX(0); opacity: 1; }
            to { transform: translateX(100%); opacity: 0; }
        }
        
        /* تخصيص التمرير */
        ::-webkit-scrollbar {
            width: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        
        ::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: #555;
        }
        
        /* الشريط الجانبي */
        .sidebar {
            transform: translateX(100%);
            transition: transform 0.3s ease;
        }
        
        .sidebar.open {
            transform: translateX(0);
        }
        
        /* الوضع الداكن */
        .dark-mode {
            background-color: #1a202c;
            color: #e2e8f0;
        }
        
        .dark-mode .bg-white {
            background-color: #2d3748;
        }
        
        .dark-mode .text-gray-800 {
            color: #e2e8f0;
        }
        
        .dark-mode .text-gray-700 {
            color: #cbd5e0;
        }
        
        .dark-mode .text-gray-600 {
            color: #a0aec0;
        }
        
        .dark-mode .bg-gray-50 {
            background-color: #2d3748;
        }
        
        .dark-mode .bg-gray-200 {
            background-color: #4a5568;
        }
        
        .dark-mode .border-gray-300 {
            border-color: #4a5568;
        }
        
        .dark-mode .shadow-lg {
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.3), 0 4px 6px -2px rgba(0, 0, 0, 0.2);
        }
        
        /* تأثيرات إضافية */
        .hover-scale:hover {
            transform: scale(1.05);
        }
        
        .transition-all {
            transition: all 0.3s ease;
        }
        
        /* تصميم محسن للفلترة */
        .filter-section {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(15px);
            border-radius: 16px;
            padding: 24px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        /* تصميم محسن لزر خدمة العملاء */
        .customer-service-btn {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
            padding: 10px 20px;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(16, 185, 129, 0.25);
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .customer-service-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(16, 185, 129, 0.3);
        }
        
        /* تصميم بطاقات العقارات المحسن */
        .property-badge {
            position: absolute;
            top: 16px;
            left: 16px;
            background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
            color: white;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
        }
        
        /* تصميم محسن للإحصائيات */
        .stat-card {
            background: white;
            border-radius: 16px;
            padding: 24px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            border-left: 4px solid #3b82f6;
            transition: all 0.3s ease;
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }
        
        /* تصميم محسن للأقسام */
        .section-title {
            position: relative;
            display: inline-block;
            margin-bottom: 2rem;
        }
        
        .section-title:after {
            content: '';
            position: absolute;
            bottom: -10px;
            right: 0;
            width: 60%;
            height: 4px;
            background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
            border-radius: 2px;
        }
        
        /* تصميم محسن للأزرار */
        .btn-primary {
            background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
            color: white;
            padding: 12px 24px;
            border-radius: 12px;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 4px 6px rgba(59, 130, 246, 0.25);
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(59, 130, 246, 0.3);
        }
        
        /* تصميم محسن للحقول */
        .form-input {
            width: 100%;
            padding: 12px 16px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 8px;
            transition: all 0.3s ease;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            backdrop-filter: blur(5px);
        }
        
        .form-input::placeholder {
            color: rgba(255, 255, 255, 0.7);
        }
        
        .form-input:focus {
            border-color: rgba(255, 255, 255, 0.5);
            box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.1);
            outline: none;
            background: rgba(255, 255, 255, 0.15);
        }
        
        /* تصميم محسن للفوتر */
        .footer-links a {
            position: relative;
            transition: all 0.3s ease;
        }
        
        .footer-links a:after {
            content: '';
            position: absolute;
            bottom: -2px;
            right: 0;
            width: 0;
            height: 2px;
            background: #3b82f6;
            transition: width 0.3s ease;
        }
        
        .footer-links a:hover:after {
            width: 100%;
        }
        
        /* تصميم محسن للشريط الجانبي */
        .sidebar-link {
            display: flex;
            align-items: center;
            padding: 12px 16px;
            border-radius: 8px;
            transition: all 0.3s ease;
            margin-bottom: 8px;
        }
        
        .sidebar-link:hover {
            background: rgba(59, 130, 246, 0.1);
            color: #3b82f6;
        }
        
        .sidebar-link.active {
            background: rgba(59, 130, 246, 0.15);
            color: #3b82f6;
            font-weight: 600;
        }
        
        /* تحسينات إضافية للتصميم */
        .hero-title {
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .trust-badge {
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            border-radius: 12px;
            padding: 16px;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }
        
        .testimonial-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            padding: 24px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .line-clamp-2 {
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        .select-arrow {
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%23ffffff' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");
            background-position: left 0.75rem center;
            background-repeat: no-repeat;
            background-size: 16px 12px;
            padding-left: 2.5rem;
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- شاشة التحميل -->
    <div id="loadingScreen" class="fixed inset-0 bg-white z-50 flex flex-col items-center justify-center">
        <div class="text-blue-500 text-6xl mb-4">
            <i class="fas fa-home"></i>
        </div>
        <div class="text-gray-700 text-2xl font-bold mb-4">جاري التحميل...</div>
        <div class="w-64 h-2 bg-gray-200 rounded-full overflow-hidden">
            <div id="loadingBar" class="h-full bg-gradient-to-r from-blue-500 to-cyan-400" style="width: 0%"></div>
        </div>
    </div>

    <!-- الشريط الجانبي -->
    <div id="sidebar" class="sidebar fixed top-0 right-0 h-full w-80 bg-white shadow-2xl z-50 overflow-y-auto">
        <div class="p-6">
            <div class="flex justify-between items-center mb-8">
                <div class="flex items-center">
                    <i class="fas fa-home text-2xl text-blue-500 ml-2"></i>
                    <h2 class="text-xl font-bold text-gray-800">إيجار بلس</h2>
                </div>
                <button id="closeSidebar" class="text-gray-600 hover:text-red-500 text-xl">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <nav class="space-y-2">
                <a href="#home" class="sidebar-link active">
                    <i class="fas fa-home ml-3"></i>
                    <span>الرئيسية</span>
                </a>
                <a href="#properties" class="sidebar-link">
                    <i class="fas fa-building ml-3"></i>
                    <span>العروض العقارية</span>
                </a>
                <a href="#neighborhoods" class="sidebar-link">
                    <i class="fas fa-map-marker-alt ml-3"></i>
                    <span>الأحياء</span>
                </a>
                <a href="#about" class="sidebar-link">
                    <i class="fas fa-info-circle ml-3"></i>
                    <span>من نحن</span>
                </a>
                <a href="#testimonials" class="sidebar-link">
                    <i class="fas fa-star ml-3"></i>
                    <span>آراء العملاء</span>
                </a>
                <a href="#contact" class="sidebar-link">
                    <i class="fas fa-envelope ml-3"></i>
                    <span>اتصل بنا</span>
                </a>
                <a href="admin.html" class="sidebar-link">
                    <i class="fas fa-cog ml-3"></i>
                    <span>لوحة التحكم</span>
                </a>
            </nav>
            
            <div class="mt-8 pt-6 border-t border-gray-200">
                <div class="flex items-center justify-between mb-4">
                    <span class="text-gray-700">الوضع الداكن</span>
                    <label class="relative inline-flex items-center cursor-pointer">
                        <input type="checkbox" id="themeToggle" class="sr-only peer">
                        <div class="w-12 h-6 bg-gray-200 peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:right-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"></div>
                    </label>
                </div>
                
                <div class="flex space-x-3 space-x-reverse">
                    <button class="flex-1 bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600 transition-colors">
                        <i class="fas fa-user ml-1"></i>
                        تسجيل الدخول
                    </button>
                    <button class="flex-1 bg-gray-200 text-gray-700 py-2 rounded-lg hover:bg-gray-300 transition-colors">
                        <i class="fas fa-user-plus ml-1"></i>
                        إنشاء حساب
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- المحتوى الرئيسي -->
    <div id="mainContent" class="hidden">
        <!-- Header -->
        <header class="bg-white shadow-sm border-b sticky top-0 z-40">
            <div class="container mx-auto px-4">
                <div class="flex justify-between items-center py-4">
                    <div class="flex items-center">
                        <button id="menuButton" class="text-gray-600 hover:text-blue-500 text-xl ml-4">
                            <i class="fas fa-bars"></i>
                        </button>
                        <i class="fas fa-home text-2xl text-blue-500 ml-2"></i>
                        <h1 class="text-xl font-bold text-gray-800">إيجار بلس</h1>
                    </div>
                    
                    <nav class="hidden md:flex space-x-4 space-x-reverse">
                        <a href="#home" class="px-4 py-2 text-gray-700 hover:text-blue-500 transition-colors">الرئيسية</a>
                        <a href="#properties" class="px-4 py-2 text-gray-700 hover:text-blue-500 transition-colors">العروض</a>
                        <a href="#neighborhoods" class="px-4 py-2 text-gray-700 hover:text-blue-500 transition-colors">الأحياء</a>
                        <a href="#testimonials" class="px-4 py-2 text-gray-700 hover:text-blue-500 transition-colors">آراء العملاء</a>
                        <a href="admin.html" class="px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors">
                            لوحة التحكم
                        </a>
                    </nav>
                    
                    <div class="flex items-center space-x-3 space-x-reverse">
                        <button id="customerService" class="customer-service-btn">
                            <i class="fab fa-whatsapp"></i>
                            خدمة العملاء
                        </button>
                        <button id="themeToggleMobile" class="text-gray-600 hover:text-blue-500 text-xl">
                            <i class="fas fa-moon"></i>
                        </button>
                    </div>
                </div>
            </div>
        </header>

        <!-- Hero Section -->
        <section id="home" class="relative py-20 bg-gradient-to-r from-blue-600 to-cyan-600 text-white overflow-hidden">
            <!-- صورة الخلفية -->
            <div class="absolute inset-0 bg-black opacity-20 z-0"></div>
            <div class="absolute inset-0 z-0 bg-cover bg-center" style="background-image: url('https://images.unsplash.com/photo-1560518883-ce09059eeffa?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2073&q=80')"></div>
            
            <div class="container mx-auto px-4 text-center relative z-10">
                <h1 class="text-4xl md:text-6xl font-bold mb-6 hero-title">Ejar Plus+إيجار بلس</h1>
                <p class="text-xl mb-8 max-w-2xl mx-auto">منصة عقارية متكاملة تجمع بين أفضل العروض العقارية وأحدث تقنيات البحث</p>
                
                <!-- شارات الثقة -->
                <div class="flex flex-wrap justify-center gap-4 mb-8">
                    <div class="trust-badge flex items-center">
                        <i class="fas fa-shield-alt text-green-400 ml-2"></i>
                        <span>منصة آمنة وموثوقة</span>
                    </div>
                    <div class="trust-badge flex items-center">
                        <i class="fas fa-clock text-yellow-400 ml-2"></i>
                        <span>خدمة عملاء 24/7</span>
                    </div>
                    <div class="trust-badge flex items-center">
                        <i class="fas fa-check-circle text-blue-400 ml-2"></i>
                        <span>عقارات موثقة</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- قسم الفلترة -->
        <section class="py-12 relative -mt-10 z-20">
            <div class="container mx-auto px-4">
                <!-- نموذج البحث مع تأثير الزجاج -->
                <div class="filter-section glass-effect max-w-5xl mx-auto">
                    <h3 class="text-2xl font-bold text-white mb-6 text-center">ابحث عن عقارك المثالي</h3>
                    <form id="searchForm" class="grid grid-cols-1 md:grid-cols-4 gap-4">
                        <div>
                            <label class="block text-white mb-2 font-medium">الحي</label>
                            <select id="neighborhood" class="w-full form-input select-arrow">
                                <option value="">جميع الأحياء</option>
                                <option value="النخيل">حي النخيل</option>
                                <option value="الربيع">حي الربيع</option>
                                <option value="العليا">حي العليا</option>
                                <option value="السلام">حي السلام</option>
                                <option value="الفيصلية">حي الفيصلية</option>
                                <option value="اخر">حي اخر</option>
                            </select>
                        </div>
                        
                        <div>
                            <label class="block text-white mb-2 font-medium">نوع العقار</label>
                            <select id="propertyType" class="w-full form-input select-arrow">
                                <option value="">الكل</option>
                                <option value="شقة">شقة</option>
                                <option value="فيلا">فيلا</option>
                                <option value="استوديو">استوديو</option>
                                <option value="منزل">منزل</option>
                            </select>
                        </div>
                        
                        <div>
                            <label class="block text-white mb-2 font-medium">السعر (ريال/شهري)</label>
                            <input type="number" id="maxPrice" placeholder="الحد الأقصى" class="w-full form-input">
                        </div>
                        
                        <div class="flex items-end">
                            <button type="submit" class="w-full bg-white text-blue-600 p-3 rounded-lg hover:bg-blue-50 transition-colors flex items-center justify-center font-bold">
                                <i class="fas fa-search ml-2"></i>
                                بحث
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </section>

        <!-- قسم الإحصائيات -->
        <section class="py-16 bg-white">
            <div class="container mx-auto px-4">
                <h2 class="text-3xl font-bold text-center mb-12 text-gray-800 section-title">إحصائيات المنصة</h2>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-8 text-center">
                    <div class="stat-card">
                        <div class="text-4xl font-bold mb-2 text-blue-600" id="statProperties">0</div>
                        <p class="text-gray-600">عقار متاح</p>
                    </div>
                    <div class="stat-card">
                        <div class="text-4xl font-bold mb-2 text-green-600" id="statNeighborhoods">0</div>
                        <p class="text-gray-600">حي مختلف</p>
                    </div>
                    <div class="stat-card">
                        <div class="text-4xl font-bold mb-2 text-yellow-600" id="statTypes">0</div>
                        <p class="text-gray-600">نوع عقار</p>
                    </div>
                    <div class="stat-card">
                        <div class="text-4xl font-bold mb-2 text-purple-600" id="statActive">24/7</div>
                        <p class="text-gray-600">خدمة مستمرة</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- العروض العقارية -->
        <section id="properties" class="py-16 bg-gray-50">
            <div class="container mx-auto px-4">
                <div class="text-center mb-12">
                    <h2 class="text-3xl font-bold text-gray-800 mb-4 section-title">العروض العقارية</h2>
                    <p class="text-gray-600 text-lg">اكتشف أفضل العروض العقارية في مختلف الأحياء</p>
                </div>
                
                <div id="propertiesList" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <!-- سيتم ملء العقارات هنا -->
                </div>
                
                <!-- رسالة عدم وجود نتائج -->
                <div id="noResults" class="hidden text-center py-12">
                    <div class="text-6xl text-gray-400 mb-4">
                        <i class="fas fa-search"></i>
                    </div>
                    <h3 class="text-2xl font-bold text-gray-600 mb-2">لم نعثر على نتائج</h3>
                    <p class="text-gray-500">جرب تغيير معايير البحث أو استخدم فلاتر مختلفة</p>
                </div>
            </div>
        </section>

        <!-- الأحياء -->
        <section id="neighborhoods" class="py-16 bg-white">
            <div class="container mx-auto px-4">
                <div class="text-center mb-12">
                    <h2 class="text-3xl font-bold text-gray-800 mb-4 section-title">الأحياء المتاحة</h2>
                    <p class="text-gray-600 text-lg">تصفح العروض حسب الحي الذي تفضل السكن فيه</p>
                </div>
                
                <!-- التصفية حسب الحي -->
                <div class="flex flex-wrap justify-center gap-4 mb-12">
                    <button class="neighborhood-filter bg-blue-500 text-white px-6 py-3 rounded-lg transition-colors" data-neighborhood="all">
                        جميع الأحياء
                    </button>
                    <button class="neighborhood-filter bg-gray-200 text-gray-700 px-6 py-3 rounded-lg hover:bg-gray-300 transition-colors" data-neighborhood="النخيل">
                        حي النخيل
                    </button>
                    <button class="neighborhood-filter bg-gray-200 text-gray-700 px-6 py-3 rounded-lg hover:bg-gray-300 transition-colors" data-neighborhood="الربيع">
                        حي الربيع
                    </button>
                    <button class="neighborhood-filter bg-gray-200 text-gray-700 px-6 py-3 rounded-lg hover:bg-gray-300 transition-colors" data-neighborhood="العليا">
                        حي العليا
                    </button>
                    <button class="neighborhood-filter bg-gray-200 text-gray-700 px-6 py-3 rounded-lg hover:bg-gray-300 transition-colors" data-neighborhood="السلام">
                        حي السلام
                    </button>
                    <button class="neighborhood-filter bg-gray-200 text-gray-700 px-6 py-3 rounded-lg hover:bg-gray-300 transition-colors" data-neighborhood="الفيصلية">
                        حي الفيصلية
                    </button>
                    <button class="neighborhood-filter bg-gray-200 text-gray-700 px-6 py-3 rounded-lg hover:bg-gray-300 transition-colors" data-neighborhood="اخر">
                        حي اخر
                    </button>
                </div>
                
                <!-- خريطة تفاعلية للأحياء -->
                <div class="bg-gray-100 rounded-2xl p-6">
                    <h3 class="text-xl font-bold text-center mb-6">خريطة الأحياء</h3>
                    <div class="grid grid-cols-2 md:grid-cols-3 gap-4">
                        <div class="bg-white rounded-xl p-4 text-center shadow-md hover:shadow-lg transition-all cursor-pointer">
                            <div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3">
                                <i class="fas fa-tree text-blue-500 text-2xl"></i>
                            </div>
                            <h4 class="font-bold">حي النخيل</h4>
                            <p class="text-sm text-gray-600">15 عقار متوفر</p>
                        </div>
                        <div class="bg-white rounded-xl p-4 text-center shadow-md hover:shadow-lg transition-all cursor-pointer">
                            <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3">
                                <i class="fas fa-leaf text-green-500 text-2xl"></i>
                            </div>
                            <h4 class="font-bold">حي الربيع</h4>
                            <p class="text-sm text-gray-600">12 عقار متوفر</p>
                        </div>
                        <div class="bg-white rounded-xl p-4 text-center shadow-md hover:shadow-lg transition-all cursor-pointer">
                            <div class="w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-3">
                                <i class="fas fa-hill-rockslide text-purple-500 text-2xl"></i>
                            </div>
                            <h4 class="font-bold">حي العليا</h4>
                            <p class="text-sm text-gray-600">18 عقار متوفر</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- آراء العملاء -->
        <section id="testimonials" class="py-16 bg-gray-50">
            <div class="container mx-auto px-4">
                <div class="text-center mb-12">
                    <h2 class="text-3xl font-bold text-gray-800 mb-4 section-title">آراء العملاء</h2>
                    <p class="text-gray-600 text-lg">ما يقوله عملاؤنا عن تجربتهم مع إيجار بلس</p>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <div class="testimonial-card">
                        <div class="flex items-center mb-4">
                            <div class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center ml-3">
                                <i class="fas fa-user text-blue-500"></i>
                            </div>
                            <div>
                                <h4 class="font-bold">أحمد السيد</h4>
                                <div class="flex text-yellow-400">
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                </div>
                            </div>
                        </div>
                        <p class="text-gray-700">"تجربة رائعة مع إيجار بلس، وجدت الشقة المثالية في وقت قياسي بفضل فريق الدعم المتميز."</p>
                    </div>
                    
                    <div class="testimonial-card">
                        <div class="flex items-center mb-4">
                            <div class="w-12 h-12 bg-green-100 rounded-full flex items-center justify-center ml-3">
                                <i class="fas fa-user text-green-500"></i>
                            </div>
                            <div>
                                <h4 class="font-bold">فاطمة العلي</h4>
                                <div class="flex text-yellow-400">
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                </div>
                            </div>
                        </div>
                        <p class="text-gray-700">"منصة موثوقة وسهلة الاستخدام، ساعدتني في العثور على فيلتي بكل سهولة ويسر."</p>
                    </div>
                    
                    <div class="testimonial-card">
                        <div class="flex items-center mb-4">
                            <div class="w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center ml-3">
                                <i class="fas fa-user text-purple-500"></i>
                            </div>
                            <div>
                                <h4 class="font-bold">محمد الحربي</h4>
                                <div class="flex text-yellow-400">
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star-half-alt"></i>
                                </div>
                            </div>
                        </div>
                        <p class="text-gray-700">"خدمة عملاء ممتازة وتواصل سريع، أنصح الجميع باستخدام إيجار بلس للعثور على العقار المناسب."</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- من نحن -->
        <section id="about" class="py-16 bg-white">
            <div class="container mx-auto px-4">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-12 items-center">
                    <div>
                        <h2 class="text-3xl font-bold text-gray-800 mb-6 section-title">من نحن</h2>
                        <p class="text-gray-600 mb-4">
                            إيجار بلس هي منصة عقارية رائدة تهدف إلى توفير تجربة سلسة ومتكاملة للبحث عن عقارات للإيجار. نحن نقدم مجموعة واسعة من الخيارات في مختلف الأحياء لتلبية احتياجات عملائنا.
                        </p>
                        <p class="text-gray-600 mb-6">
                            نتميز بفريق محترف من الخبراء العقاريين الذين يعملون على تقديم أفضل الخدمات والدعم لعملائنا، مع التركيز على الجودة والشفافية في كل خطوة.
                        </p>
                        <div class="flex space-x-4 space-x-reverse">
                            <div class="bg-blue-500 text-white px-6 py-3 rounded-lg">
                                <div class="text-2xl font-bold">5+</div>
                                <div class="text-sm">سنوات من الخبرة</div>
                            </div>
                            <div class="bg-green-500 text-white px-6 py-3 rounded-lg">
                                <div class="text-2xl font-bold">500+</div>
                                <div class="text-sm">عقار متوفر</div>
                            </div>
                            <div class="bg-purple-500 text-white px-6 py-3 rounded-lg">
                                <div class="text-2xl font-bold">95%</div>
                                <div class="text-sm">رضا العملاء</div>
                            </div>
                        </div>
                    </div>
                    <div class="bg-white rounded-2xl p-6 shadow-lg">
                        <img src="https://images.unsplash.com/photo-1560518883-ce09059eeffa?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80" alt="من نحن" class="w-full h-64 object-cover rounded-xl">
                    </div>
                </div>
            </div>
        </section>

        <!-- اتصل بنا -->
        <section id="contact" class="py-16 bg-gray-50">
            <div class="container mx-auto px-4">
                <div class="text-center mb-12">
                    <h2 class="text-3xl font-bold text-gray-800 mb-4 section-title">اتصل بنا</h2>
                    <p class="text-gray-600 text-lg">نحن هنا لمساعدتك في العثور على العقار المثالي</p>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-12">
                    <div>
                        <form class="space-y-6">
                            <div>
                                <label class="block text-gray-700 mb-2 font-medium">الاسم الكامل</label>
                                <input type="text" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="أدخل اسمك الكامل">
                            </div>
                            <div>
                                <label class="block text-gray-700 mb-2 font-medium">البريد الإلكتروني</label>
                                <input type="email" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="أدخل بريدك الإلكتروني">
                            </div>
                            <div>
                                <label class="block text-gray-700 mb-2 font-medium">الرسالة</label>
                                <textarea rows="5" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="اكتب رسالتك هنا..."></textarea>
                            </div>
                            <button type="submit" class="w-full bg-blue-500 text-white py-3 rounded-lg hover:bg-blue-600 transition-colors">
                                إرسال الرسالة
                            </button>
                        </form>
                    </div>
                    
                    <div class="space-y-6">
                        <div class="bg-gray-50 rounded-xl p-6">
                            <h3 class="text-xl font-bold mb-4">معلومات الاتصال</h3>
                            <div class="space-y-4">
                                <div class="flex items-center">
                                    <div class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center ml-4">
                                        <i class="fas fa-phone text-blue-500"></i>
                                    </div>
                                    <div>
                                        <h4 class="font-bold">هاتف</h4>
                                        <p class="text-gray-600">+966 5X XXX XXXX</p>
                                    </div>
                                </div>
                                <div class="flex items-center">
                                    <div class="w-12 h-12 bg-green-100 rounded-full flex items-center justify-center ml-4">
                                        <i class="fab fa-whatsapp text-green-500"></i>
                                    </div>
                                    <div>
                                        <h4 class="font-bold">واتساب</h4>
                                        <p class="text-gray-600">+966 5X XXX XXXX</p>
                                    </div>
                                </div>
                                <div class="flex items-center">
                                    <div class="w-12 h-12 bg-red-100 rounded-full flex items-center justify-center ml-4">
                                        <i class="fas fa-envelope text-red-500"></i>
                                    </div>
                                    <div>
                                        <h4 class="font-bold">البريد الإلكتروني</h4>
                                        <p class="text-gray-600">info@ejarplus.com</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="bg-blue-50 rounded-xl p-6">
                            <h3 class="text-xl font-bold mb-4">ساعات العمل</h3>
                            <div class="space-y-2">
                                <div class="flex justify-between">
                                    <span>الأحد - الخميس</span>
                                    <span>8:00 ص - 6:00 م</span>
                                </div>
                                <div class="flex justify-between">
                                    <span>الجمعة</span>
                                    <span>2:00 م - 6:00 م</span>
                                </div>
                                <div class="flex justify-between">
                                    <span>السبت</span>
                                    <span>9:00 ص - 2:00 م</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="bg-gray-800 text-white py-12">
            <div class="container mx-auto px-4">
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                    <div>
                        <div class="flex items-center mb-4">
                            <i class="fas fa-home text-2xl ml-2 text-blue-400"></i>
                            <h3 class="text-xl font-bold">إيجار بلس</h3>
                        </div>
                        <p class="text-gray-400 mb-4">منصة عقارية متكاملة لتسهيل عملية البحث عن عقارات للإيجار</p>
                    </div>
                    
                    <div>
                        <h4 class="font-bold mb-4 text-lg">روابط سريعة</h4>
                        <ul class="space-y-2 footer-links">
                            <li><a href="#home" class="text-gray-400 hover:text-white transition-colors">الرئيسية</a></li>
                            <li><a href="#properties" class="text-gray-400 hover:text-white transition-colors">العروض</a></li>
                            <li><a href="#neighborhoods" class="text-gray-400 hover:text-white transition-colors">الأحياء</a></li>
                            <li><a href="#about" class="text-gray-400 hover:text-white transition-colors">من نحن</a></li>
                            <li><a href="#contact" class="text-gray-400 hover:text-white transition-colors">اتصل بنا</a></li>
                            <li><a href="admin.html" class="text-gray-400 hover:text-white transition-colors">لوحة التحكم</a></li>
                        </ul>
                    </div>
                    
                    <div>
                        <h4 class="font-bold mb-4 text-lg">اتصل بنا</h4>
                        <div class="flex items-center mb-2 text-gray-400">
                            <i class="fas fa-phone ml-2"></i>
                            <span>+249 924 299 798</span>
                        </div>
                        <div class="flex items-center mb-2 text-gray-400">
                            <i class="fas fa-envelope ml-2"></i>
                            <span>info@ejarplus.com</span>
                        </div>
                    </div>
                </div>
                
                <div class="border-t border-gray-700 mt-8 pt-6 text-center text-gray-500">
                    <p>جميع الحقوق محفوظة &copy;Ejar plus+إيجار بلس <span id="currentYear"></span></p>
                </div>
            </div>
        </footer>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="fixed top-4 right-4 p-4 rounded-xl shadow-2xl z-50 max-w-sm hidden"></div>

    <script>
        // 🔧 إعدادات Supabase - نفس إعدادات لوحة التحكم
        const SUPABASE_URL = 'https://xpukdyicgmgqwukjnwau.supabase.co';
        const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhwdWtkeWljZ21ncXd1a2pud2F1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMTUzNjgsImV4cCI6MjA3Njc5MTM2OH0.lzwmCX_c3-r3lQ1Q5JB_m5Ew86sPqtUSgZ7V7BiGiyA';

        // تهيئة Supabase
        let supabase;
        let supabaseConnected = false;
        try {
            if (SUPABASE_URL && SUPABASE_ANON_KEY) {
                supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
                supabaseConnected = true;
            }
        } catch (error) {
            console.error('خطأ في تهيئة Supabase:', error);
            supabaseConnected = false;
        }

        // حالة التطبيق
        let properties = [];
        let filteredProperties = [];
        let isDarkMode = false;

        // عناصر DOM
        const loadingScreen = document.getElementById('loadingScreen');
        const loadingBar = document.getElementById('loadingBar');
        const mainContent = document.getElementById('mainContent');
        const searchForm = document.getElementById('searchForm');
        const propertiesList = document.getElementById('propertiesList');
        const noResults = document.getElementById('noResults');
        const toast = document.getElementById('toast');
        const currentYear = document.getElementById('currentYear');
        const statProperties = document.getElementById('statProperties');
        const statNeighborhoods = document.getElementById('statNeighborhoods');
        const statTypes = document.getElementById('statTypes');
        const sidebar = document.getElementById('sidebar');
        const menuButton = document.getElementById('menuButton');
        const closeSidebar = document.getElementById('closeSidebar');
        const themeToggle = document.getElementById('themeToggle');
        const themeToggleMobile = document.getElementById('themeToggleMobile');
        const customerService = document.getElementById('customerService');

        // بدء التحميل
        function startLoading() {
            setTimeout(() => {
                loadingBar.style.width = '100%';
            }, 100);

            setTimeout(() => {
                loadingScreen.classList.add('hidden');
                mainContent.classList.remove('hidden');
                initializeSite();
            }, 1000);
        }

        // تهيئة الموقع
        async function initializeSite() {
            await loadProperties();
            setupEventListeners();
            updateStats();
            
            // تعيين السنة الحالية
            currentYear.textContent = new Date().getFullYear();
            
            // التحقق من تفضيلات المستخدم للوضع الداكن
            if (localStorage.getItem('darkMode') === 'true') {
                enableDarkMode();
            }
        }

        // إعداد مستمعي الأحداث
        function setupEventListeners() {
            // معالجة نموذج البحث
            searchForm.addEventListener('submit', handleSearch);
            
            // تصفية حسب الحي
            document.querySelectorAll('.neighborhood-filter').forEach(btn => {
                btn.addEventListener('click', function() {
                    // إزالة الفئة النشطة من جميع الأزرار
                    document.querySelectorAll('.neighborhood-filter').forEach(b => {
                        b.classList.remove('bg-blue-500', 'text-white');
                        b.classList.add('bg-gray-200', 'text-gray-700');
                    });
                    
                    // إضافة الفئة النشطة للزر المختار
                    this.classList.remove('bg-gray-200', 'text-gray-700');
                    this.classList.add('bg-blue-500', 'text-white');
                    
                    const neighborhood = this.getAttribute('data-neighborhood');
                    filterPropertiesByNeighborhood(neighborhood);
                });
            });
            
            // التنعيم للروابط الداخلية
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                    
                    // إغلاق الشريط الجانبي إذا كان مفتوحًا
                    if (sidebar.classList.contains('open')) {
                        sidebar.classList.remove('open');
                    }
                });
            });
            
            // فتح وإغلاق الشريط الجانبي
            menuButton.addEventListener('click', () => {
                sidebar.classList.add('open');
            });
            
            closeSidebar.addEventListener('click', () => {
                sidebar.classList.remove('open');
            });
            
            // تبديل الثيم
            themeToggle.addEventListener('change', toggleTheme);
            themeToggleMobile.addEventListener('click', toggleTheme);
            
            // خدمة العملاء عبر واتساب
            customerService.addEventListener('click', () => {
                const whatsappNumber = "966501234567";
                const message = "مرحباً، أود الاستفسار عن خدماتكم";
                const encodedMessage = encodeURIComponent(message);
                const url = `https://wa.me/${whatsappNumber}?text=${encodedMessage}`;
                window.open(url, '_blank');
            });
            
            // إغلاق الشريط الجانبي عند النقر خارجها
            document.addEventListener('click', (e) => {
                if (!sidebar.contains(e.target) && !menuButton.contains(e.target) && sidebar.classList.contains('open')) {
                    sidebar.classList.remove('open');
                }
            });
        }

        // تبديل الوضع الداكن
        function toggleTheme() {
            if (isDarkMode) {
                disableDarkMode();
            } else {
                enableDarkMode();
            }
            
            // تحديث حالة التبديل
            themeToggle.checked = isDarkMode;
            
            // حفظ التفضيل في التخزين المحلي
            localStorage.setItem('darkMode', isDarkMode);
        }

        // تفعيل الوضع الداكن
        function enableDarkMode() {
            document.body.classList.add('dark-mode');
            isDarkMode = true;
            themeToggleMobile.innerHTML = '<i class="fas fa-sun"></i>';
        }

        // تعطيل الوضع الداكن
        function disableDarkMode() {
            document.body.classList.remove('dark-mode');
            isDarkMode = false;
            themeToggleMobile.innerHTML = '<i class="fas fa-moon"></i>';
        }

        // تحميل العقارات من Supabase
        async function loadProperties() {
            try {
                if (supabaseConnected) {
                    const { data, error } = await supabase
                        .from('properties')
                        .select('*')
                        .order('created_at', { ascending: false });

                    if (error) throw error;
                    
                    properties = data || [];
                    showToast('تم تحميل العقارات بنجاح', 'success');
                } else {
                    throw new Error('لا يوجد اتصال بقاعدة البيانات');
                }
            } catch (error) {
                console.error('Error loading properties:', error);
                properties = getDefaultProperties();
                showToast('تم تحميل البيانات الافتراضية', 'info');
            }
            
            filteredProperties = [...properties];
            displayProperties();
        }

        // البيانات الافتراضية
        function getDefaultProperties() {
            return [
                {
                    id: 1,
                    title: "شقة فاخرة للايجار",
                    area: "النخيل",
                    price: 3500,
                    category: "شقة",
                    room: 3,
                    bath: 2,
                    space: 120,
                    des: "شقة فاخرة في موقع مميز، مجهزة بتكييف مركزي وأثاث راقي",
                    num: "966501234567",
                    image_url: "https://images.unsplash.com/photo-1556020685-ae41abfc9365?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80"
                },
                {
                    id: 2,
                    title: "فيلا جديدة للايجار",
                    area: "الربيع",
                    price: 8000,
                    category: "فيلا",
                    room: 5,
                    bath: 4,
                    space: 300,
                    des: "فيلا جديدة بالكامل مع حديقة خاصة ومواقف سيارات",
                    num: "966501234568",
                    image_url: "https://images.unsplash.com/photo-1512917774080-9991f1c4c750?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80"
                },
                {
                    id: 3,
                    title: "استوديو مفروش",
                    area: "العليا",
                    price: 2000,
                    category: "استوديو",
                    room: 1,
                    bath: 1,
                    space: 50,
                    des: "استوديو مفروش بالكامل في موقع حيوي قريب من الخدمات",
                    num: "966501234569",
                    image_url: "https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80"
                },
                {
                    id: 4,
                    title: "شقة عائلية راقية",
                    area: "الفيصلية",
                    price: 4500,
                    category: "شقة",
                    room: 4,
                    bath: 3,
                    space: 180,
                    des: "شقة عائلية فاخرة في حي الفيصلية مع إطلالة رائعة وخدمات متكاملة",
                    num: "966501234570",
                    image_url: "https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80"
                },
                {
                    id: 5,
                    title: "فيلا دوبلكس",
                    area: "الورود",
                    price: 12000,
                    category: "فيلا",
                    room: 6,
                    bath: 5,
                    space: 400,
                    des: "فيلا دوبلكس فاخرة مع مسبح خاص وحديقة واسعة في حي الورود",
                    num: "966501234571",
                    image_url: "https://images.unsplash.com/photo-1570129477492-45c003edd2be?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80"
                },
                {
                    id: 6,
                    title: "شقة مفروشة حديثاً",
                    area: "السلام",
                    price: 2800,
                    category: "شقة",
                    room: 2,
                    bath: 2,
                    space: 90,
                    des: "شقة مفروشة حديثاً بحالة ممتازة في حي السلام، قريبة من الخدمات والمرافق",
                    num: "966501234572",
                    image_url: "https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80"
                }
            ];
        }

        // عرض العقارات
        function displayProperties() {
            propertiesList.innerHTML = '';
            
            if (filteredProperties.length === 0) {
                noResults.classList.remove('hidden');
                return;
            }
            
            noResults.classList.add('hidden');
            
            filteredProperties.forEach((property, index) => {
                const propertyCard = createPropertyCard(property, index);
                propertiesList.appendChild(propertyCard);
            });
        }

        // إنشاء بطاقة عقار
        function createPropertyCard(property, index) {
            const propertyCard = document.createElement('div');
            propertyCard.className = 'property-card bg-white rounded-xl shadow-lg overflow-hidden fade-in';
            
            propertyCard.innerHTML = `
                <div class="relative overflow-hidden">
                    <img src="${property.image_url}" alt="${property.title}" class="w-full h-48 object-cover">
                    <div class="property-badge">
                        ${property.category}
                    </div>
                </div>
                <div class="p-6">
                    <div class="flex justify-between items-start mb-2">
                        <h3 class="font-bold text-lg text-gray-800 truncate">${property.title}</h3>
                    </div>
                    
                    <div class="flex items-center text-gray-600 mb-3">
                        <i class="fas fa-map-marker-alt ml-1 text-blue-500"></i>
                        <span class="truncate">${property.area}</span>
                    </div>
                    
                    <div class="flex justify-between items-center mb-4">
                        <span class="text-2xl font-bold text-blue-600">${property.price.toLocaleString()} ريال/شهري</span>
                    </div>
                    
                    <div class="flex justify-between text-sm text-gray-600 mb-4">
                        <div class="flex items-center">
                            <i class="fas fa-bed ml-1 text-blue-500"></i>
                            <span>${property.room} غرف</span>
                        </div>
                        <div class="flex items-center">
                            <i class="fas fa-bath ml-1 text-blue-500"></i>
                            <span>${property.bath || 1} حمام</span>
                        </div>
                        <div class="flex items-center">
                            <i class="fas fa-vector-square ml-1 text-blue-500"></i>
                            <span>${property.space} م²</span>
                        </div>
                    </div>
                    
                    <p class="text-gray-600 text-sm mb-4 line-clamp-2">${property.des}</p>
                    
                    <button class="w-full bg-green-500 text-white py-3 rounded-lg hover:bg-green-600 transition-colors flex items-center justify-center contact-btn" data-num="${property.num}">
                        <i class="fab fa-whatsapp ml-2 text-lg"></i>
                        تواصل عبر واتساب
                    </button>
                </div>
            `;
            
            // إضافة مستمع حدث لزر التواصل
            propertyCard.querySelector('.contact-btn').addEventListener('click', function() {
                const whatsappNumber = this.getAttribute('data-num');
                contactViaWhatsApp(whatsappNumber, property.title);
            });
            
            return propertyCard;
        }

        // التواصل عبر واتساب
        function contactViaWhatsApp(phoneNumber, propertyTitle) {
            const message = `مرحباً، أنا مهتم بالعقار: ${propertyTitle}. هل يمكنك تزويدي بمزيد من المعلومات؟`;
            const encodedMessage = encodeURIComponent(message);
            const url = `https://wa.me/${phoneNumber}?text=${encodedMessage}`;
            window.open(url, '_blank');
        }

        // معالجة البحث
        function handleSearch(e) {
            e.preventDefault();
            
            const neighborhood = document.getElementById('neighborhood').value;
            const propertyType = document.getElementById('propertyType').value;
            const maxPrice = document.getElementById('maxPrice').value;
            
            filterProperties({ neighborhood, propertyType, maxPrice });
        }

        // تصفية العقارات حسب الحي
        function filterPropertiesByNeighborhood(neighborhood) {
            if (neighborhood === 'all') {
                filteredProperties = [...properties];
            } else {
                filteredProperties = properties.filter(property => property.area === neighborhood);
            }
            
            displayProperties();
        }

        // تصفية العقارات حسب معايير البحث
        function filterProperties(criteria) {
            filteredProperties = properties.filter(property => {
                if (criteria.neighborhood && property.area !== criteria.neighborhood) {
                    return false;
                }
                
                if (criteria.propertyType && property.category !== criteria.propertyType) {
                    return false;
                }
                
                if (criteria.maxPrice && property.price > parseInt(criteria.maxPrice)) {
                    return false;
                }
                
                return true;
            });
            
            displayProperties();
        }

        // تحديث الإحصائيات
        function updateStats() {
            statProperties.textContent = properties.length;
            
            const neighborhoods = new Set(properties.map(p => p.area));
            statNeighborhoods.textContent = neighborhoods.size;
            
            const types = new Set(properties.map(p => p.category));
            statTypes.textContent = types.size;
        }

        // عرض الإشعارات
        function showToast(message, type = 'info') {
            let bgColor, icon;
            switch(type) {
                case 'success':
                    bgColor = 'bg-green-500';
                    icon = 'fas fa-check-circle';
                    break;
                case 'error':
                    bgColor = 'bg-red-500';
                    icon = 'fas fa-exclamation-circle';
                    break;
                default:
                    bgColor = 'bg-blue-500';
                    icon = 'fas fa-info-circle';
            }
            
            toast.innerHTML = `
                <div class="flex items-center">
                    <i class="${icon} ml-2"></i>
                    <span>${message}</span>
                </div>
            `;
            toast.className = `fixed top-4 right-4 p-4 rounded-xl shadow-2xl z-50 max-w-sm ${bgColor} text-white`;
            toast.classList.remove('hidden');
            toast.classList.add('toast-slide-in');
            
            setTimeout(() => {
                toast.classList.remove('toast-slide-in');
                toast.classList.add('toast-slide-out');
                
                setTimeout(() => {
                    toast.classList.add('hidden');
                    toast.classList.remove('toast-slide-out');
                }, 300);
            }, 4000);
        }

        // بدء التحميل عند تحميل الصفحة
        document.addEventListener('DOMContentLoaded', startLoading);
    </script>
</body>
</html>
